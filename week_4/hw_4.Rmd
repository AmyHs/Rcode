---
title: "week4"
author: "AmyHs"
date: "2018撟?4???8?"
output: html_document
---
#week_4隞餃??
-撱箇????? week_4(or task_4, hw_4)????冗??
<br>-摰??隞賜??冗蝢斤雯蝡? Open API ????????銝?鞈?冗銝哨??像鈭文隞賣??.Rmd, .html)]??

#憟喃犖餈瑞?雯蝡策鈭箸澈????死嚗?頝??摮???
#???戊鈭箄蕙鋆∟?????迭餈??300蝭???虜??鈭??
#1.???b銝?ost
```{r}
library(Rfacebook)
id<-"184899118190398"
token<-"EAACEdEose0cBAOI4OA31H16eZBcQzwZCsR9KDhCI9wGJo1gXW6CoN039ZADInm3cuTYeJuXb9eU2eBXIT7jsn30ZBqK708sUAIcHpu2uQ6OLzTrJVNjjTmIxdblxuobKsetFn6WSPlLcNYgRkOBtzqzozcd8YXlOpWZCYJ5BZAhrZCFyYjVhZA2NNtAnwKbJzXUZD"
post<-getPage(id,token,n=500)
```

#2.????迭餈???300蝭ㄐ?????
```{r}
library(dplyr)
library(magrittr)
post1<-arrange(post,desc(likes_count))
doc<-post1[1:300,]%$%message
```

#3.??????
#3.1皜????
```{r}
library(tm)
docs1<-VCorpus(VectorSource(doc))
#銝????ospace functon????暻潑??m?撣嗅??content_transformer()??絲???
#銋??sub????暻潑????誨
space<-content_transformer(function (x, pattern){gsub(pattern," ",x)})
docs2<-tm_map(docs1,space,"[a-zA-Z]")
docs2<-tm_map(docs2,removeNumbers)
docs2<-tm_map(docs2, removePunctuation)
docs2<-tm_map(docs2, stripWhitespace)
```

#3.2?閰?&????摮???
```{r}
library(jiebaR)

#?靘?摮?tm銝剔?topwordCN()嚗?閰虫???活???摮????云皛踵??
#??挾摰???????撠梯??????????岫鈭???蔥???300蝭????ist嚗?憭望??
#??jeibaR??撘閰?
#頛?銵矽????摮??
setwd("C:/Users/b0520/Desktop")
cut=worker(,stop_word ="stop.txt")
#????憟喃犖餈瑞???ㄐ撣詨虜?????誑???閰?
newword<-c("銝?犖","鋡急??","撠?犖")
new_user_word(cut,newword)
```

#5.???
#5.1?閰?
```{r}
jieba_tokenizer=function(d){
  unlist(segment(d[[1]],cut))
}
seg = lapply(docs2, jieba_tokenizer)

```
#5.2閮??
```{r}
freqFrame <- as.data.frame(table(unlist(seg)))
freqFrame <-freqFrame[-c(1:27),]

```
#5.3????
```{r}
library(wordcloud)
wordcloud(freqFrame$Var1,freqFrame$Freq,
          scale=c(5,0.5),min.freq=5,max.words=50,
          random.order=FALSE, random.color=TRUE, 
          rot.per=0, colors=brewer.pal(8, "Dark2"),
          ordered.colors=FALSE,use.r.layout=FALSE,
          fixed.asp=TRUE)
```

#??靘????Ⅱ蝚血???戊鈭箄蕙???????蜓擃恥擃??????????雿??????蝝Ｙ??????遛鈭像???暑?????之撠???鈭??極雿?????泵??像撣豢??撟怠憟單批像銵∠?暑?????蜓憿?